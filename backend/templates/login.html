<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MotriLog ‚Äì Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}" />
    <style>
        /* 2FA MODAL STYLES (Light Mode) */
        .custom-modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px);
            z-index: 10000; align-items: flex-start; justify-content: center; padding-top: 100px;
        }
        .custom-modal {
            background: #FFFFFF; width: 380px; padding: 30px; border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.25); font-family: sans-serif; color: #111;
            animation: popIn 0.3s ease-out;
        }
        @keyframes popIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        .modal-header { font-size: 18px; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .modal-body { font-size: 14px; color: #666; margin-bottom: 20px; line-height: 1.5; }
        
        .modal-input {
            width: 100%; padding: 14px; background: #F5F5F7; border: 1px solid #ddd;
            border-radius: 12px; color: #333; font-size: 20px; text-align: center;
            letter-spacing: 5px; font-weight: bold; box-sizing: border-box; outline: none;
        }
        .modal-input:focus { border-color: #007AFF; background: #fff; }
        
        .modal-actions { display: flex; justify-content: flex-end; gap: 12px; margin-top: 25px; }
        
        .btn-modal-cancel { background: transparent; border: 1px solid #ddd; color: #666; padding: 10px 24px; border-radius: 10px; cursor: pointer; font-weight: 600; }
        .btn-modal-cancel:hover { background: #f5f5f7; }
        
        .btn-modal-ok { background: linear-gradient(90deg, #0AC5D4, #007AFF); color: white; border: none; padding: 10px 30px; border-radius: 10px; cursor: pointer; font-weight: 600; }
        .btn-modal-ok:hover { opacity: 0.9; }
    </style>
  </head>

  <body class="login-page">
    <a href="/" class="text-logo">MotriLog</a>

    <div class="login-card">
      <h1 class="title">Welcome Back</h1>
      <form id="login-form">
        <div class="form-group">
          <label class="input-label">Email Address</label>
          <input type="email" id="login-email" placeholder="Enter your email" required />
        </div>
        <div class="form-group" style="position: relative;">
          <label class="input-label">Password</label>
          <input type="password" id="login-password" placeholder="Enter your password" required style="padding-right: 40px;" />
          <span id="toggle-password" style="position: absolute; right: 12px; top: 38px; cursor: pointer; color:#999;">üëÅÔ∏è</span>
        </div>
        <p id="login-error" class="error-text" style="color: #ff3b30; display: none; margin-bottom: 10px; font-size: 14px; text-align: center;"></p>
        <button type="submit" class="btn-primary">LOG IN SECURELY</button>
      </form>
      <p class="register-text">Don‚Äôt have an account? <a href="/register">Register</a></p>
    </div>

    <div id="two-factor-modal" class="custom-modal-overlay">
        <div class="custom-modal">
            <div class="modal-header">üîí 2FA Verification</div>
            <div class="modal-body">We sent a verification code to your Telegram.<br>Please enter the 6-digit code below:</div>
            <input type="text" id="2fa-code-input" class="modal-input" placeholder="000000" maxlength="6" autocomplete="off">
            <div class="modal-actions">
                <button id="btn-2fa-cancel" class="btn-modal-cancel">Cancel</button>
                <button id="btn-2fa-ok" class="btn-modal-ok">Verify</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    
    <script>
        const toggle = document.getElementById('toggle-password');
        const pw = document.getElementById('login-password');
        if(toggle && pw) {
            toggle.onclick = () => {
                const type = pw.type === 'password' ? 'text' : 'password';
                pw.type = type;
                toggle.style.color = type === 'text' ? '#007AFF' : '#999';
            };
        }
    </script>
  </body>
</html>
